---
title: 开发本地代码生成器
date: 2023-11-19 13:17:34
permalink: /pages/7a1d12/
categories:
  - 项目实战
  -  代码生成器
tags:
  - 
author: 
  name: 华总
  link: https://liyao52033.github.io/
titleTag: 原创
---
## 1 项目的初始化

 1、初始化根目录 

由于我们的项目包含多个阶段，本质上是多个项目，所以为了统一管理整个项目，我们创建一个干净的 yuzi-generator 空文件夹，作为整个项目的根目录，后续各阶段的项目和目录都放到它之下。

这样做还有一个好处，就是让不同项目模块可以用 相对路径 寻找文件，便于整个项目的开源共享。

建议大家养成习惯，使用 Git 来管理项目。如果使用 IDEA 开发工具来创建新项目，可以直接勾选 Create Git repository ，工具会自动帮你初始化项目为 Git 仓库。

如下图：

![image.png](https://aurora-1258839075.cos.ap-shanghai.myqcloud.com/img/202312031428964.png?q-sign-algorithm=sha1&q-ak=AKIDlOsIWjolbMzQrQyRwNfoovASl088zhGh&q-sign-time=1701584925;9000000000&q-key-time=1701584925;9000000000&q-header-list=host&q-url-param-list=&q-signature=363d7da55fa785574be45e78acbe966a5f13f400)

当然，也可以进入项目根目录，执行 git init 命令创建 Git 仓库。

 2、忽略无用提交  

创建好新项目后，使用 IDEA 开发工具打开项目，进入底部的 Git 标签，会发现很多和项目无关的 IDEA 自动生成的工程文件被添加到了 Git 托管。

![image.png](https://aurora-1258839075.cos.ap-shanghai.myqcloud.com/img/202312031428856.png?q-sign-algorithm=sha1&q-ak=AKIDlOsIWjolbMzQrQyRwNfoovASl088zhGh&q-sign-time=1701584925;9000000000&q-key-time=1701584925;9000000000&q-header-list=host&q-url-param-list=&q-signature=4b1f57bca581e7fe2d384423d9c87827ec614031)

但我们是不希望提交这些文件的，没有意义，所以需要使用 .gitignore 文件来忽略这些文件，不让它们被 Git 托管。

如何编写 .gitignore 文件呢？

其实很简单，不用自己编写！我们在 IDEA 的 Settings => Plugins 中搜索 .ignore 插件并安装：

![image.png](https://aurora-1258839075.cos.ap-shanghai.myqcloud.com/img/202312031428762.png?q-sign-algorithm=sha1&q-ak=AKIDlOsIWjolbMzQrQyRwNfoovASl088zhGh&q-sign-time=1701584926;8999999999&q-key-time=1701584926;8999999999&q-header-list=host&q-url-param-list=&q-signature=549919c4c844be5759074715b1c6d0388ba45f3d)

然后在项目根目录处选中右键，使用 .ignore 插件创建 .gitignore 文件：

![image.png](https://aurora-1258839075.cos.ap-shanghai.myqcloud.com/img/202312031428829.png?q-sign-algorithm=sha1&q-ak=AKIDlOsIWjolbMzQrQyRwNfoovASl088zhGh&q-sign-time=1701584926;8999999999&q-key-time=1701584926;8999999999&q-header-list=host&q-url-param-list=&q-signature=07343bca0c21db0325772efbcd4a0a5674a6f2ba)

.ignore 插件提供了很多默认的 .gitignore 模板，根据自己的项目类型和使用的开发工具进行选择，此处我们选择 Java 和 JetBrains 模板：

![image.png](https://aurora-1258839075.cos.ap-shanghai.myqcloud.com/img/202312031428902.png?q-sign-algorithm=sha1&q-ak=AKIDlOsIWjolbMzQrQyRwNfoovASl088zhGh&q-sign-time=1701584925;9000000000&q-key-time=1701584925;9000000000&q-header-list=host&q-url-param-list=&q-signature=cf1c41a469331e339424db2136a4fb0ee74205b1)

然后可以在项目根目录看到生成的 .gitignore 文件，模板已经包含了常用的 Java 项目忽略清单，比如编译后的文件、日志文件、压缩包等：

![image.png](https://aurora-1258839075.cos.ap-shanghai.myqcloud.com/img/202312031428803.png?q-sign-algorithm=sha1&q-ak=AKIDlOsIWjolbMzQrQyRwNfoovASl088zhGh&q-sign-time=1701584925;9000000000&q-key-time=1701584925;9000000000&q-header-list=host&q-url-param-list=&q-signature=8690c68c6200974044e1eb4105fc150cb3204a66)

让我们再手动添加几个要忽略的目录和文件，比如打包生成的 target 目录：

![image.png](https://aurora-1258839075.cos.ap-shanghai.myqcloud.com/img/202312031428464.png?q-sign-algorithm=sha1&q-ak=AKIDlOsIWjolbMzQrQyRwNfoovASl088zhGh&q-sign-time=1701584926;9000000000&q-key-time=1701584926;9000000000&q-header-list=host&q-url-param-list=&q-signature=f8df38996bc348fe5a282a843e1a8cd4e45e3362)

但是，我们会发现，即使有些文件已经添加到了 .gitignore 文件中，在 IDEA 中显示的还是绿色（已被 Git 托管）状态。如下图：

![image.png](https://aurora-1258839075.cos.ap-shanghai.myqcloud.com/img/202312031428927.png?q-sign-algorithm=sha1&q-ak=AKIDlOsIWjolbMzQrQyRwNfoovASl088zhGh&q-sign-time=1701584927;9000000000&q-key-time=1701584927;9000000000&q-header-list=host&q-url-param-list=&q-signature=e7478c4143d8d305e34be0f2280492f3e7136aec)

这是因为这些文件已经被 Git 跟踪。而 .gitignore 文件仅影响未跟踪的文件，如果文件已经被 Git 跟踪，那么 .gitignore 文件对它们没有影响。

所以我们需要打开终端，在项目根目录下执行如下命令，取消 Git 跟踪：

执行效果如图：

![image.png](https://aurora-1258839075.cos.ap-shanghai.myqcloud.com/img/202312031428702.png?q-sign-algorithm=sha1&q-ak=AKIDlOsIWjolbMzQrQyRwNfoovASl088zhGh&q-sign-time=1701584926;8999999999&q-key-time=1701584926;8999999999&q-header-list=host&q-url-param-list=&q-signature=25e84b1396f3667a7546f272de3dc87a8adf5ea7)

可以看到文件变成了红色（未被 Git 托管）或黄色（被忽略）状态：

![image.png](https://aurora-1258839075.cos.ap-shanghai.myqcloud.com/img/202312031428759.png?q-sign-algorithm=sha1&q-ak=AKIDlOsIWjolbMzQrQyRwNfoovASl088zhGh&q-sign-time=1701584926;8999999999&q-key-time=1701584926;8999999999&q-header-list=host&q-url-param-list=&q-signature=33c8a3df053bfbe6e2e215867906b9fe5d756583)

然后，让我们将 .gitignore 文件添加到 Git 暂存区，让它能够被 Git 管理。

![image.png](https://aurora-1258839075.cos.ap-shanghai.myqcloud.com/img/202312031428272.png?q-sign-algorithm=sha1&q-ak=AKIDlOsIWjolbMzQrQyRwNfoovASl088zhGh&q-sign-time=1701584928;9000000000&q-key-time=1701584928;9000000000&q-header-list=host&q-url-param-list=&q-signature=a0acb0d54cb96c80c9434c3ed52dba145023df50)

项目根目录就初始化完成了，在项目根目录中新建一个 README.md 文件，用于介绍项目、记录自己的学习和开发过程等

## 2 静态文件生成

## 3 动态文件代码生成

## 4 动静结合 - 生成完整代码