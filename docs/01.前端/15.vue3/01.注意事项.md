---
title: æ³¨æ„äº‹é¡¹
autoSort: 1100
permalink: /pages/bafa79/
categories: 
  - å‰ç«¯
  - vue3
tags: 
  - å‰ç«¯
titleTag: åŸåˆ›
date: 2023-08-24 14:21:59
author: 
  name: åæ€»
  link: https://xiaoying.org.cn/
---

## setupä¸èƒ½ä½¿ç”¨this

```vue
import { useRouter } from "vue-router"
const router = useRouter() 
router.push('/')  //ç›¸å½“äºthis.$router.push('/')

import { useRoute } from "vue-router"
const route = useRoute() //routeæ˜¯é¡µé¢çš„è·¯ç”±ä¿¡æ¯ï¼Œç›¸å½“äºthis.$route
```



## é¢˜ç›®è¯¦æƒ…é¡µ

```vue
 <router-link :to="'/interface/detail/'+item.id"></router-link>
```



## å­ç»„ä»¶props

```vue
const props = defineProps({
  page: {
    type: Number,
    default: 1,
  },
  limit: {
    type: Number,
    default: 10,
  }
});

const emit = defineEmits(["pagination", "update:page", "update:limit"]);

const currentPage = useVModel(props, "page", emit);

const pageSize = useVModel(props, "limit", emit);

function handleSizeChange(val: number) {
  emit("pagination", { page: currentPage, limit: val });
}

```



## æŠ¥é”™ Uncaught TypeError: Cannot read properties of null (reading â€˜isCEâ€˜) at renderSlot

![](https://img.xiaoying.org.cn/img/202401191405405.png?q-sign-algorithm=sha1&q-ak=AKIDlOsIWjolbMzQrQyRwNfoovASl088zhGh&q-sign-time=1705644331;9000000000&q-key-time=1705644331;9000000000&q-header-list=&q-url-param-list=&q-signature=f05974aacc94da4985e50036c7586749b8b515be)

### åŸå› 

é€ æˆè¿™ä¸ªçš„åŸå› æ˜¯æœ‰ä¸¤ä¸ªä¸åŒçš„vueç‰ˆæœ¬ï¼Œ å°±å¯èƒ½ä¸‹è½½çš„å…¶ä»–çš„ç¬¬ä¸‰æ–¹å’Œå½“å‰çš„vueç‰ˆæœ¬ä¸ç›¸åŒï¼Œ å°±æœ‰ä¸¤ä¸ªvueçš„å‰¯æœ¬ï¼Œåœ¨å¼•å…¥çš„æ—¶å€™ï¼Œ npmå»å°è¯•å¼•å…¥çš„åœ°å€ä¸å¯¹

### è§£å†³æ–¹æ¡ˆ

æœ‰å¦‚ä¸‹å‡ ç§è§£å†³æ–¹æ¡ˆ

#### æ–¹æ¡ˆä¸€

1. ç”±äºnpmçš„å¼•å…¥åœ°å€ä¸å¯¹ï¼Œ é‚£æˆ‘ä»¬ä½¿ç”¨yarnï¼Œåˆ é™¤node_modulesï¼Œpackage-lock.json,ä½¿ç”¨yarnå®‰è£…ï¼Œç”Ÿæˆæ–°çš„yarn.lock

2. ä¿®æ”¹é…ç½®æ–‡ä»¶

   - viteæ­å»ºçš„é¡¹ç›®ï¼Œåœ¨ `vite.confg.js` æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®

   ```typescript
    resolve: {
   	  dedupe: [
   	    'vue'
   	  ]
   },
   ```

- webpackï¼ˆvue-cliï¼‰æ­å»ºçš„é¡¹ç›®ï¼Œåœ¨`vue.config.js`æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®

```js
const { defineConfig } = require("@vue/cli-service");
const path = require("path");

module.exports = defineConfig({
  // ...
  configureWebpack: {
   // ğŸ‘‡ğŸ» è¿™ä¸ªé…ç½®
    resolve: {
      symlinks: false,
      alias: {
        vue: path.resolve("./node_modules/vue"),
      },
    },
  },
  // ...
```

#### æ–¹æ¡ˆäºŒ

ç»§ç»­ä½¿ç”¨npm,é¦–å…ˆæ£€æŸ¥viteç‰ˆæœ¬

æ‰§è¡Œ`npm list vite`ï¼ŒæŸ¥çœ‹ä¾èµ–æ‰€ç”¨çš„ç‰ˆæœ¬æ˜¯å¦ä¸package.jsonä¸€è‡´ï¼Œè‹¥ä¸ä¸€è‡´æŒ‰å¦‚ä¸‹æ­¥éª¤

- æ¸…é™¤ç¼“å­˜

  ```sh
   npm cache clean --force
  ```

- å¸è½½vite

  ```sh
  npm uninstall vite
  ```

- é‡æ–°å®‰è£…package.jsonçš„ç‰ˆæœ¬

  ```sh
   npm install vite@4.4.7 --save-dev # é¡¹ç›®å±€éƒ¨å®‰è£…vitepackage.jsonç‰ˆæœ¬
  ```

  

å…¶æ¬¡æ£€æŸ¥vueç‰ˆæœ¬æ‰§è¡Œ`npm list vue`ï¼ŒæŸ¥çœ‹ä¾èµ–æ‰€ç”¨çš„ç‰ˆæœ¬æ˜¯å¦åŒæ—¶æœ‰vue2,vue3,æ‰¾åˆ°ä¾èµ–igthubä»“åº“ä¸‹è½½å…¼å®¹vue3çš„ç‰ˆæœ¬ï¼Œæ‰§è¡Œå¦‚ä¸‹æ­¥éª¤

- æ¸…é™¤ç¼“å­˜

  ```sh
   npm cache clean --force
  ```

- å¸è½½vue2ç‰ˆæœ¬çš„ä¾èµ–

  ```sh
  npm uninstall package
  ```

- é‡æ–°å®‰è£…package.jsonçš„ç‰ˆæœ¬

  ```sh
  npm install package --save-dev # é¡¹ç›®å±€éƒ¨å®‰è£…package.jsonçš„ç‰ˆæœ¬
  ```

  

å†æŸ¥çœ‹vue3ç‰ˆæœ¬æ˜¯å¦ä¸package.jsonä¸€è‡´ï¼Œï¼Œè‹¥ä¸ä¸€è‡´æŒ‰å¦‚ä¸‹æ­¥éª¤

- æ¸…é™¤ç¼“å­˜

  ```sh
   npm cache clean --force
  ```

- å¸è½½vue

  ```sh
  npm uninstall vue
  ```

- é‡æ–°å®‰è£…package.jsonçš„ç‰ˆæœ¬

  ```sh
  npm install vue@3.3.4 --save-dev # é¡¹ç›®å±€éƒ¨å®‰è£…vue package.jsonç‰ˆæœ¬
  ```

  

æœ€åç»Ÿä¸€ç‰ˆæœ¬åä¿®æ”¹é…ç½®æ–‡ä»¶

viteæ­å»ºçš„é¡¹ç›®ï¼Œåœ¨ `vite.confg.js` æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®

```typescript
resolve: {
	  dedupe: [
	    'vue'
	  ]
},
```

